# # Cursor Pro 最適な使い方ガイド  
（トモ専用・Agent枠節約版）

---

# ## 1. 基本原則：Cursor は「段階的に使う」ほど強い

Cursor Pro は  
**いきなり大規模生成を依頼すると Agent を発動しやすい**。

逆に、

- 方針説明  
- 差分生成  
- 小さな単位の修正  
- TDD（テスト → 実装）

こういう **段階的な依頼** にすると、  
通常モードで十分な処理になり、Agent をほぼ使わない。

---

# ## 2. Agent を使わないためのプロンプトの鉄則

### ✔ 鉄則1：最初に「方針だけ説明して」と言う
```
まず docs/specs/... を参照して、今回の修正方針だけ説明してください。
コード生成はまだ不要です。
通常モードで十分です。
```

### ✔ 鉄則2：差分だけ依頼する
```
必要な変更箇所だけ差分で提示してください。
ファイル全体の書き換えは不要です。
```

### ✔ 鉄則3：TDD を使う（Agent を呼びにくい）
```
まずテストコードだけ書いてください。
実装はまだ不要です。
```

### ✔ 鉄則4：明示的に「Agent を使わないで」と伝える
```
このタスクは通常モードで十分です。Agent は使わないでください。
```

これだけで **Agent の誤発動をほぼ防げる**。

---

# ## 3. トモの開発フローに合わせた最適な使い方

## ### 3.1 ブランチを切る → 新しいチャットを作る
```
今から feature/password-reset ブランチで作業します。
```

チャットを分けることで context overflow も防げる。

---

## ### 3.2 仕様書を読み込ませる（軽い処理）
```
docs/specs/... を参照して、今回の機能の要件をまとめてください。
まだコードは書かないでください。
```

仕様書参照は軽いので Agent を使わない。

---

## ### 3.3 方針説明 → テスト → 実装 の順で依頼する

### 方針説明
```
今回の機能追加に必要なファイルと修正方針を説明してください。
```

### テスト
```
まずテストコードだけ生成してください。
```

### 実装
```
テストが通るために必要な最小限の実装を差分で提示してください。
```

---

# ## 4. Agent を使うべき場面（必要なときだけ）

トモの開発では、Agent を使うのは次のような場面だけで十分。

- 大規模な仕様変更  
- 新しいモジュールの設計  
- 複雑なアーキテクチャの相談  
- 仕様書の大規模リファクタリング  

つまり **「考える作業」だけ Agent に任せる**。

コード生成は通常モードで十分。

---

# ## 5. Agent 枠を節約するための NG プロンプト

以下は **100% Agent を呼ぶ**ので避ける。

- 「この機能を全部実装して」
- 「このファイルを丸ごと書き換えて」
- 「このフォルダを全部作って」
- 「仕様書を全部コード化して」
- 「このページを全部作り直して」

これらは **重い推論＋大量生成** なので一発で枠を消費する。

---

# ## 6. トモ専用：最適プロンプトテンプレート

## 🔹 新機能開発の開始
```
今から feature/xxx ブランチで作業します。

docs/specs/... を参照して、
今回の機能追加に必要な要件と修正方針だけ説明してください。

コード生成はまだ不要です。
通常モードで十分です。
```

## 🔹 コード生成
```
必要な変更箇所だけ差分で提示してください。
ファイル全体の書き換えは不要です。
通常モードでお願いします。
```

## 🔹 仕様書更新
```
docs/specs/... のこの部分だけ修正してください。
まず修正方針を説明し、その後に差分を提示してください。
Agent は使わないでください。
```

---

# ## 7. トモの開発スタイル × Cursor Pro の最適化まとめ

- ブランチごとにチャットを分ける  
- 仕様書を docs/ に保存して毎回参照させる  
- 方針説明 → 差分 → TDD の順で依頼  
- 「Agent は使わないで」と明示  
- 大規模設計だけ Agent を使う  

これで **Agent 枠をほぼ消費せずに、Cursor Pro の性能を最大限引き出せる**。

---